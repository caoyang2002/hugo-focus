{{- /* 获取首页文章 */ -}}
{{- $pages := where site.RegularPages "Type" "in" site.Params.mainSections -}}

{{- /* 分离置顶文章 */ -}}
{{- $featured := where $pages ".Weight" ">" 0 -}}
{{- $regular := where $pages ".Weight" "le" 0 -}}

{{- /* 置顶文章区域 */ -}}
{{- if $featured -}}
<section class="featured-posts mb-16">
    {{- /* 修改这里：传递 $featured 而不是 $pages */ -}}
    {{ partial "components/featured-scroll.html" $featured }}
</section>
{{- end -}}

{{- /* 最新文章列表 */ -}}
<section class="recent-posts">
    <h2 class="text-2xl font-bold mb-6">最新文章</h2>
    {{- $paginator := .Paginate $regular -}}
    <div class="space-y-8">
        {{- range $paginator.Pages -}}
        {{ partial "list/article-card-compact.html" . }}
        {{- end -}}
    </div>

    {{- /* 分页导航 */ -}}
    {{ partial "page_nav.html" . }}
</section>